
Running test suite SIBYL-TESTS
 Running test SANITY-CHECK ..
 Running test TOOL-REGISTRATION ...
 Running test TOOL-EXECUTION .
 Running test TOOL-NOT-FOUND .
 Running test TOOL-SCHEMA-GENERATION ...
 Running test GREP-EXCLUDE-DIR-TEST ....
 Running test EXECUTE-TOOL-CALL-TOOL-NOT-FOUND ..
 Running test EXECUTE-TOOL-CALL-VALIDATION-ERROR ..
 Running test EXECUTE-TOOL-CALL-EXECUTION-ERROR ..
 Running test EXECUTE-TOOL-CALL-INVALID-STRUCT ..
 Running test suite READ-SEXP-TESTS
  Running test READ-SEXP-COLLECTS-DEFTOOLS ...............................
  Running test READ-SEXP-FILTER-BY-NAME ...
  Running test READ-SEXP-FILTER-BY-TYPE .
  Running test READ-SEXP-MISSING-FILE .
 Running test suite DESCRIBE-SYMBOL-TESTS
  Running test DESCRIBE-SYMBOL-GENERIC-FUNCTION ..
  Running test DESCRIBE-SYMBOL-SPECIAL-VARIABLE ..
  Running test DESCRIBE-SYMBOL-MISSING .
 Running test suite EVAL-FORM-TESTS
  Running test EVAL-FORM-SIMPLE .
  Running test EVAL-FORM-COMPILES-DEFUN ...
  Running test EVAL-FORM-TIMEOUT .
  Running test EVAL-FORM-CAPTURES-OUTPUT ...
  Running test EVAL-FORM-MULTIPLE-VALUES .
 Running test suite MACROEXPAND-FORM-TESTS
  Running test MACROEXPAND-FORM-SIMPLE-MACRO ..
  Running test MACROEXPAND-FORM-DEFTOOL-FULL-EXPANSION ...
  Running test MACROEXPAND-FORM-DEFTOOL-SINGLE-STEP ..
  Running test MACROEXPAND-FORM-NON-MACRO ..
  Running test MACROEXPAND-FORM-INVALID-FORM .
 Running test suite PACKAGE-SYMBOLS-TESTS
  Running test PACKAGE-SYMBOLS-LISTS-EXPORTED-SYMBOLS ....
  Running test PACKAGE-SYMBOLS-INCLUDES-TYPE-ANNOTATIONS ...........................................................................
  Running test PACKAGE-SYMBOLS-EXTERNAL-ONLY-DEFAULT .........................
  Running test PACKAGE-SYMBOLS-ALL-SYMBOLS-MODE .
  Running test PACKAGE-SYMBOLS-SORTED-ALPHABETICALLY .
  Running test PACKAGE-SYMBOLS-INVALID-PACKAGE .
 Running test suite CODEBASE-MAP-TESTS
  Running test CODEBASE-MAP-SUMMARY-MODULES ......
  Running test CODEBASE-MAP-FINDS-AGENT-STEP ...
 Running test suite WHO-CALLS-TESTS
  Running test WHO-CALLS-FINDS-CALLERS .
  Running test WHO-CALLS-FINDS-AGENT-STEP-CALLS-EXECUTE-TOOL-CALL .
  Running test WHO-CALLS-HANDLES-NONEXISTENT-FUNCTION ..
  Running test WHO-CALLS-HANDLES-SPECIAL-VARIABLE ..
  Running test WHO-CALLS-DEFAULT-DIRECTION-IS-CALLERS .
 Running test suite SUGGEST-IMPROVEMENTS-TESTS
  Running test SUGGEST-IMPROVEMENTS-GENERATES-SUGGESTIONS ...
  Running test SUGGEST-IMPROVEMENTS-INCLUDES-REQUIRED-FIELDS ..........................................
  Running test SUGGEST-IMPROVEMENTS-PRIORITIES-VALID-AND-ORDERED .......
 Running test suite SELF-ASSESS-TESTS
  Running test SELF-ASSESS-GENERATES-REPORT ..
  Running test SELF-ASSESS-HAS-REQUIRED-SECTIONS ....
  Running test SELF-ASSESS-METRICS-REASONABLE .............
  Running test SELF-ASSESS-DOES-NOT-RERUN-FULL-SUITE ..
 Running test suite IMPROVEMENT-PLAN-TESTS
  Running test IMPROVEMENT-PLAN-GENERATES-PLAN ....
  Running test IMPROVEMENT-PLAN-HAS-REQUIRED-FIELDS ......................................................
  Running test IMPROVEMENT-PLAN-PRIORITIES-VALID ....................
 Running test suite SAFE-REDEFINE-TESTS
  Running test SAFE-REDEFINE-SUCCESSFUL ...
  Running test SAFE-REDEFINE-ROLLBACK .
  Running test SAFE-REDEFINE-REJECTS-NON-SIBYL .
 Running test suite SYNC-TO-FILE-TESTS
  Running test SYNC-TO-FILE-REPLACES-DEFINITION .....
  Running test SYNC-TO-FILE-MISSING-DEFINITION .
 Running test suite RUN-TESTS-TESTS
  Running test RUN-TESTS-ALL-TESTS ...f...
  Running test RUN-TESTS-SPECIFIC-SUITE .f
  Running test RUN-TESTS-DETECTS-FAILURES f.f.f
 Running test suite WRITE-TEST-TESTS
  Running test WRITE-TEST-GENERATES-AND-REGISTERS-TEST X
  Running test WRITE-TEST-APPENDS-TO-FILE .
  Running test WRITE-TEST-REJECTS-DUPLICATE-NAME X
  Running test WRITE-TEST-VALIDATES-REQUIRED-PARAMETERS ..
  Running test WRITE-TEST-USES-DEFAULT-SUITE X
  Running test WRITE-TEST-GENERATED-TEST-RUNS-SUCCESSFULLY X
 Running test suite CREATION-INTEGRATION-TESTS
  Running test CREATION-INTEGRATION-E2E ...
  Running test CREATION-INTEGRATION-CLEANUP ....
 Running test suite ADD-DEFINITION-TESTS
  Running test ADD-DEFINITION-APPENDS-DEFUN ......
  Running test ADD-DEFINITION-INVALID-SEXP .
  Running test ADD-DEFINITION-PRESERVES-EXISTING-CONTENT ...
  Running test ADD-DEFINITION-UNDO-ADDITION .
  Running test ADD-DEFINITION-AFTER-PARAMETER ....
 Running test suite ADD-EXPORT-TESTS
  Running test ADD-EXPORT-NEW-SYMBOL ..
  Running test ADD-EXPORT-IDEMPOTENT ..
  Running test ADD-EXPORT-UNDO-EXPORT ..
  Running test ADD-EXPORT-FORMATTING ....
 Running test suite CREATE-MODULE-TESTS
  Running test CREATE-MODULE-CREATES-FILE ....
  Running test CREATE-MODULE-EXISTING-FILE-ERROR ..
  Running test CREATE-MODULE-NON-SIBYL-PACKAGE-ERROR .
  Running test CREATE-MODULE-WITH-INITIAL-DEFINITIONS ......
 Running test suite SUGGEST-IMPROVEMENTS-ENHANCED-TESTS
  Running test SUGGEST-IMPROVEMENTS-MIN-PRIORITY-HIGH ..
  Running test SUGGEST-IMPROVEMENTS-MIN-PRIORITY-MEDIUM .......
  Running test SUGGEST-IMPROVEMENTS-MIN-PRIORITY-LOW .......
  Running test SUGGEST-IMPROVEMENTS-EXCLUDE-ATTEMPTED-NO-STATE ..
 Running test suite ASDF-REGISTRATION-TESTS
  Running test REGISTER-IN-ASDF-ADDS-COMPONENT ..
  Running test REGISTER-IN-ASDF-DUPLICATE-ERROR .
  Running test REGISTER-IN-ASDF-INVALID-MODULE .
  Running test REGISTER-IN-ASDF-UNDO-RESTART ..
 Running test suite READ-SEXP-TESTS
 Running test suite DESCRIBE-SYMBOL-TESTS
 Running test suite EVAL-FORM-TESTS
 Running test suite MACROEXPAND-FORM-TESTS
 Running test suite PACKAGE-SYMBOLS-TESTS
 Running test suite CODEBASE-MAP-TESTS
 Running test suite WHO-CALLS-TESTS
 Running test suite SUGGEST-IMPROVEMENTS-TESTS
 Running test suite SELF-ASSESS-TESTS
 Running test suite IMPROVEMENT-PLAN-TESTS
 Running test suite SAFE-REDEFINE-TESTS
 Running test suite SYNC-TO-FILE-TESTS
 Running test suite RUN-TESTS-TESTS
 Running test suite WRITE-TEST-TESTS
 Running test suite CREATION-INTEGRATION-TESTS
 Running test suite ADD-DEFINITION-TESTS
 Running test suite ADD-EXPORT-TESTS
 Running test suite CREATE-MODULE-TESTS
 Running test suite SUGGEST-IMPROVEMENTS-ENHANCED-TESTS
 Running test suite ASDF-REGISTRATION-TESTS
 Running test MESSAGE-CREATION ....
 Running test CONVERSATION-OPERATIONS ...
 Running test TOOL-CALL-CREATION ...
 Running test TOOL-RESULT-MESSAGE ...
 Running test MAKE-MESSAGE-TIMESTAMP ...
 Running test TO-JSON-VALUE-ALIST-KEYS ......
 Running test suite AGENT-TESTS
  Running test SYSTEM-PROMPT-CONTAINS-SELF-AWARENESS ..
  Running test SYSTEM-PROMPT-LISTS-LISP-TOOLS .......
  Running test SYSTEM-PROMPT-MENTIONS-LISP-AWARENESS .
  Running test AGENT-USES-SYSTEM-PROMPT .
  Running test AGENT-CUSTOM-SYSTEM-PROMPT .
 Running test suite TDD-ORCHESTRATION-TESTS
  Running test SYSTEM-PROMPT-MENTIONS-TDD-WORKFLOW ....
  Running test SYSTEM-PROMPT-LISTS-TDD-TOOLS .....
  Running test SYSTEM-PROMPT-EMPHASIZES-TEST-FIRST .
 Running test suite RUN-HOOK-TESTS
  Running test RUN-HOOK-EXECUTES-REGISTERED-HOOK ...
  Running test RUN-HOOK-IGNORES-MISSING-HOOK .
  Running test RUN-HOOK-HANDLES-HOOK-ERRORS ..
  Running test RUN-HOOK-SELECTS-HOOK-BY-NAME ..
 Running test suite AGENT-TESTS
 Running test suite TDD-ORCHESTRATION-TESTS
 Running test suite RUN-HOOK-TESTS
 Running test suite ASDF-PROTECTION-TESTS
  Running test PROTECT-FILE-BASIC ...
  Running test PROTECT-MULTIPLE-FILES ......
  Running test CLEAR-ALL-PROTECTIONS ...
  Running test PROTECT-FILE-WITH-STRING-PATH ..
  Running test MODIFIED-FILES-HASH-TABLE ..
 Running test suite ASDF-PROTECTION-TESTS
 Running test suite REGISTER-COMMAND-TESTS
  Running test REGISTER-COMMAND-ADDS-TO-HANDLERS ...
  Running test REGISTER-COMMAND-HANDLER-IS-CALLABLE ..
  Running test REGISTER-COMMAND-INVALID-HANDLER-BODY .
  Running test REGISTER-COMMAND-NON-LAMBDA-HANDLER-BODY .
  Running test REGISTER-COMMAND-EMPTY-NAME-ERROR .
  Running test REGISTER-COMMAND-DUPLICATE-OVERWRITES ..
 Running test suite EVOLVE-TESTS
  Running test EVOLVE-COMMAND-REGISTERED ..
  Running test EVOLVE-STOPS-WHEN-MAX-CYCLES-ZERO .
  Running test EVOLVE-STOPS-WHEN-NO-SUGGESTIONS ...
  Running test EVOLVE-STOPS-ON-TEST-FAILURE ...
 Running test suite REGISTER-COMMAND-TESTS
 Running test suite EVOLVE-TESTS
 Running test suite EVOLUTION-STATE-TESTS
  Running test EVOLUTION-STATE-INIT-CREATES-STATE ........
  Running test EVOLUTION-STATE-VARIABLE-IS-BOUND ..
  Running test EVOLUTION-STATE-RECORD-ATTEMPT-ADDS-TO-LIST ..
  Running test EVOLUTION-STATE-RECORD-ATTEMPT-ADDS-TO-RESULTS ...
  Running test EVOLUTION-STATE-RECORD-MULTIPLE-ATTEMPTS .
  Running test EVOLUTION-STATE-SAVE-CREATES-FILE .
  Running test EVOLUTION-STATE-SAVE-LOAD-ROUNDTRIP ...
  Running test EVOLUTION-STATE-LOAD-NONEXISTENT-FILE-GRACEFUL ..
  Running test EVOLUTION-STATUS-TOOL-EXISTS .
  Running test EVOLUTION-STATUS-TOOL-RETURNS-STRING .
  Running test EVOLUTION-STATUS-TOOL-SHOWS-CYCLE-NUMBER .
  Running test EVOLUTION-STATUS-TOOL-SHOWS-ATTEMPTED-IMPROVEMENTS .
  Running test EVOLUTION-STATUS-TOOL-GRACEFUL-WHEN-UNINITIALIZED .
 Running test suite EVOLUTION-REPORT-TESTS
  Running test EVOLUTION-REPORT-CYCLE-START-FORMAT .
  Running test EVOLUTION-REPORT-CYCLE-START-MULTIPLE-CYCLES .
  Running test EVOLUTION-REPORT-IMPROVEMENT-START-FORMAT ...
  Running test EVOLUTION-REPORT-IMPROVEMENT-START-MULTIPLE-IMPROVEMENTS .
  Running test EVOLUTION-REPORT-STEP-FORMAT ...
  Running test EVOLUTION-REPORT-STEP-MULTIPLE-STEPS .
  Running test EVOLUTION-REPORT-IMPROVEMENT-RESULT-SUCCESS .
  Running test EVOLUTION-REPORT-IMPROVEMENT-RESULT-FAILURE ..
  Running test EVOLUTION-REPORT-CYCLE-SUMMARY-FORMAT .....
  Running test EVOLUTION-REPORT-CYCLE-SUMMARY-NEGATIVE-DELTA ..
  Running test EVOLUTION-REPORT-CYCLE-SUMMARY-ZERO-DELTA ..
  Running test EVOLUTION-REPORT-FINAL-SUMMARY-FORMAT ........
  Running test EVOLUTION-REPORT-FINAL-SUMMARY-ALL-PRODUCTIVE ...
  Running test EVOLUTION-REPORT-FINAL-SUMMARY-NO-IMPROVEMENTS ...
 Running test suite EVOLUTION-STATE-TESTS
 Running test suite EVOLUTION-REPORT-TESTS
 Did 607 checks.
    Pass: 598 (98%)
    Skip: 0 ( 0%)
    Fail: 9 ( 1%)

 Failure Details:
 --------------------------------
 WRITE-TEST-GENERATED-TEST-RUNS-SUCCESSFULLY in WRITE-TEST-TESTS [write-test generated test can be run via run-tests tool.]: 
      Unexpected Error: #<SIBYL.CONDITIONS:TOOL-EXECUTION-ERROR {7005694443}>
Tool execution failed [write-test]: Test write-test-runnable-check already exists.
 --------------------------------
 --------------------------------
 WRITE-TEST-USES-DEFAULT-SUITE in WRITE-TEST-TESTS [write-test defaults to sibyl-tests suite.]: 
      Unexpected Error: #<SIBYL.CONDITIONS:TOOL-EXECUTION-ERROR {70056932B3}>
Tool execution failed [write-test]: Test write-test-default-suite-check already exists.
 --------------------------------
 --------------------------------
 WRITE-TEST-REJECTS-DUPLICATE-NAME in WRITE-TEST-TESTS [write-test rejects duplicate test names.]: 
      Unexpected Error: #<SIBYL.CONDITIONS:TOOL-EXECUTION-ERROR {70056914D3}>
Tool execution failed [write-test]: Test write-test-duplicate-check already exists.
 --------------------------------
 --------------------------------
 WRITE-TEST-GENERATES-AND-REGISTERS-TEST in WRITE-TEST-TESTS [write-test generates a test and registers it in-memory.]: 
      Unexpected Error: #<SIBYL.CONDITIONS:TOOL-EXECUTION-ERROR {70053434D3}>
Tool execution failed [write-test]: Test write-test-auto-generated-001 already exists.
 --------------------------------
 --------------------------------
 RUN-TESTS-DETECTS-FAILURES in RUN-TESTS-TESTS [run-tests detects and reports test failures.]: 
      
1

 evaluated to 

1

 which is not 

=

 to 

0


 --------------------------------
 --------------------------------
 RUN-TESTS-DETECTS-FAILURES in RUN-TESTS-TESTS [run-tests detects and reports test failures.]: 
      
1

 evaluated to 

1

 which is not 

=

 to 

0


 --------------------------------
 --------------------------------
 RUN-TESTS-DETECTS-FAILURES in RUN-TESTS-TESTS [run-tests detects and reports test failures.]: 
      
1

 evaluated to 

1

 which is not 

=

 to 

0


 --------------------------------
 --------------------------------
 RUN-TESTS-SPECIFIC-SUITE in RUN-TESTS-TESTS [run-tests can run a specific test suite.]: 
      
0

 evaluated to 

0

 which is not 

>

 to 

0


 --------------------------------
 --------------------------------
 RUN-TESTS-ALL-TESTS in RUN-TESTS-TESTS [run-tests runs all tests and returns structured results.]: 
      
0

 evaluated to 

0

 which is not 

>

 to 

0


 --------------------------------

WARNING:
   Computing just-done stamp in plan NIL for action (ASDF/LISP-ACTION:TEST-OP
                                                     "sibyl/tests"), but dependency (ASDF/LISP-ACTION:LOAD-OP
                                                                                     "sibyl/tests") wasn't done yet!
